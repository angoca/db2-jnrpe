<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Db2-jnrpe by angoca</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Db2-jnrpe</h1>
        <p class="header">Plugin to monitor DB2 with Nagios and JNRPE</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/angoca/db2-jnrpe/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/angoca/db2-jnrpe/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/angoca/db2-jnrpe">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/angoca">angoca</a></p>


      </header>
      <section>
        <h1>
<a id="db2-jnrpe" class="anchor" href="#db2-jnrpe" aria-hidden="true"><span class="octicon octicon-link"></span></a>db2-jnrpe</h1>

<p>(<a href="https://github.com/angoca/db2-jnrpe/wiki">Please check the Wiki</a> for more information)</p>

<p>This is a set of plugins to monitor DB2 via Nagios. It relies on the JNRPE
framework, which is a Java implementation of the NRPE server.
This framework is very flexible and it can be used not only to monitor DB2
database, but also to:</p>

<ul>
<li>Create more plugins to monitor other elements of DB2.</li>
<li>Create plugins for other RDBMS using the benefits of Java.</li>
</ul>

<p>The difference between this set of plugins and other available in the market is
that a Java daemon allows to reduce the overhead on the database.
Other scripts, establishes one or multiple connections to query the elements in
the database each time they are executed, and this creates a big overhead in
the database.
This set of plugins keeps the connection active thanks to a connection pool
(Hikari or C3p0) and this reduces the overhead of connection establishment.</p>

<p>Also, many plugins queries the same values to monitor similar elements.
For example, for each bufferpool, other plugins has to query the database
several times to retrieve the same information and then filter it according to
the given parameters (different commands).
This set of plugins queries the database once, and keep the information in a
cache to be used for multiple commands.</p>

<p>With a cache system, this plugin can compare values with the previous
measures, in order to give an instant performance.
No extra files are required, just a daemon executing in a server.</p>

<p>Because the JNRPE is a pure Java application, it can be executed in any
platform, Linux/UNIX/MAC OS X or Windows. This is a very important difference
with the other plugins in the market that require bash on Linux, or Perl.</p>

<h1>
<a id="plugins" class="anchor" href="#plugins" aria-hidden="true"><span class="octicon octicon-link"></span></a>Plugins</h1>

<p>This is the list of available DB2 plugins:</p>

<ul>
<li>Check_Average_Sorting_Time: Checks the quantity of time expended in sorts per
sorts.</li>
<li>Check_Bufferpool_Hit_Ratio: Allows to check the performance of the
bufferpools, by measuring the hit ratio between the most recent measures.</li>
<li>Check_Database_Load: Checks the database load according to the quantity
of modifications (UID: Update, insert, delete), commits and selects.</li>
<li>Check_Physical_IO_Per_Transaction: Measures the quantity of physical reads
per transaction.</li>
<li>Check_Sorting_Time_Per_Transaction: Checks the quantity of sorts per
transaction.</li>
</ul>

<h1>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prerequisites</h1>

<p>In order to run this set of plugins, it is necessary to have Java 6 or 7.</p>

<h1>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h1>

<p>The installation process consist in:</p>

<ul>
<li>Download JNRPE and installed if it has not been done.</li>
<li>Download a stable release of this project from
<a href="https://github.com/angoca/db2-jnrpe/releases">https://github.com/angoca/db2-jnrpe/releases</a>
</li>
<li>Download the required libraries:

<ul>
<li>Hikari</li>
<li>JavaAssist</li>
</ul>
</li>
<li>Copy the DB2 driver in the same directory.</li>
<li>Configure the jnrpe.ini file with the plugins.</li>
<li>Start the JNRPE server.</li>
<li>Configure Nagios to call the plugins.</li>
<li>Restart Nagios.</li>
</ul>

<p>A more detailed installation guide can be found in the wiki:
  <a href="https://github.com/angoca/db2-jnrpe/wiki/Install">https://github.com/angoca/db2-jnrpe/wiki/Install</a></p>

<h1>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h1>

<ul>
<li>Nagios - <a href="http://www.nagios.org/">http://www.nagios.org/</a>
</li>
<li>JNRPE - <a href="http://www.jnrpe.it/">http://www.jnrpe.it/</a>
</li>
<li>DB2 - <a href="http://www.ibm.com/software/data/db2/">http://www.ibm.com/software/data/db2/</a>
</li>
</ul>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
